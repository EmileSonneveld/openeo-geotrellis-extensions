package org.openeo.geotrellis.icor;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

public class testLookupTable {

	@Test
	public void testLookupTableReadText() throws Exception{
		LookupTable lut=LookupTableIO.readLUT("test_lut");
		String ref="LookupTable [numberOfValues=9, dimensions=8, bandids=[1, 2, 3, 4], sza=[30.0, 35.0], vza=[36.0, 45.0], raa=[-50.0, 50.0], gnd=[0.0, 0.7], aot=[0.1], cwv=[2.0], ozone=[0.33], values=[[59.7517, 1.31582, -0.315823, 401.356, 0.170753, 0.0057583, 0.0069146, 0.0, 0.0], [55.749, 1.30077, -0.300773, 410.131, 0.162016, 0.00503891, 0.00605074, 0.0, 0.0], [59.7517, 1.31582, -0.315823, 401.356, 0.170753, 0.0057583, 0.0069146, 0.0, 0.0], [55.749, 1.30077, -0.300773, 410.131, 0.162016, 0.00503891, 0.00605074, 0.0, 0.0], [69.2146, 1.41596, -0.415965, 381.044, 0.170621, 0.00679133, 0.00803021, 0.0, 0.0], [64.6991, 1.39463, -0.394635, 390.494, 0.161899, 0.0059926, 0.00708578, 0.0, 0.0], [69.2146, 1.41596, -0.415965, 381.044, 0.170621, 0.00679133, 0.00803021, 0.0, 0.0], [64.6991, 1.39463, -0.394635, 390.494, 0.161899, 0.0059926, 0.00708578, 0.0, 0.0], [59.4723, 1.31576, -0.315757, 375.875, 0.170811, 0.00585629, 0.00703226, 0.0, 0.0], [55.5107, 1.30072, -0.300721, 384.334, 0.16207, 0.00513682, 0.00616832, 0.0, 0.0], [59.4723, 1.31576, -0.315757, 375.875, 0.170811, 0.00585629, 0.00703226, 0.0, 0.0], [55.5107, 1.30072, -0.300721, 384.334, 0.16207, 0.00513682, 0.00616832, 0.0, 0.0], [69.587, 1.41587, -0.415873, 356.609, 0.170678, 0.00716318, 0.0084699, 0.0, 0.0], [65.0821, 1.39456, -0.394563, 365.715, 0.161953, 0.00632612, 0.00748014, 0.0, 0.0], [69.587, 1.41587, -0.415873, 356.609, 0.170678, 0.00716319, 0.0084699, 0.0, 0.0], [65.0821, 1.39456, -0.394563, 365.715, 0.161953, 0.00632612, 0.00748014, 0.0, 0.0], [12.7518, 1.12779, -0.127787, 352.841, 0.0665985, 0.00298305, 0.00358206, 0.0, 0.0], [11.9643, 1.12497, -0.124972, 355.384, 0.063828, 0.00250476, 0.00300772, 0.0, 0.0], [12.7518, 1.12779, -0.127787, 352.841, 0.0665985, 0.00298304, 0.00358205, 0.0, 0.0], [11.9643, 1.12497, -0.124972, 355.384, 0.063828, 0.00250476, 0.00300773, 0.0, 0.0], [14.9394, 1.16077, -0.160774, 342.005, 0.0665662, 0.00339684, 0.0040165, 0.0, 0.0], [14.0269, 1.157, -0.156998, 344.785, 0.0637955, 0.00286635, 0.00338923, 0.0, 0.0], [14.9394, 1.16077, -0.160774, 342.005, 0.0665661, 0.00339684, 0.0040165, 0.0, 0.0], [14.0269, 1.157, -0.156998, 344.785, 0.0637954, 0.00286635, 0.00338923, 0.0, 0.0], [12.717, 1.12772, -0.127719, 331.911, 0.0665402, 0.00304263, 0.00365361, 0.0, 0.0], [11.9325, 1.12491, -0.12491, 334.362, 0.0637733, 0.00254074, 0.00305093, 0.0, 0.0], [12.717, 1.12772, -0.127719, 331.911, 0.0665402, 0.00304263, 0.00365361, 0.0, 0.0], [11.9325, 1.12491, -0.12491, 334.362, 0.0637733, 0.00254074, 0.00305093, 0.0, 0.0], [15.0581, 1.16069, -0.160688, 321.708, 0.0665072, 0.00358472, 0.00423864, 0.0, 0.0], [14.1398, 1.15692, -0.15692, 324.378, 0.0637406, 0.00302703, 0.00357922, 0.0, 0.0], [15.0581, 1.16069, -0.160688, 321.708, 0.0665071, 0.00358472, 0.00423865, 0.0, 0.0], [14.1398, 1.15692, -0.15692, 324.378, 0.0637407, 0.00302703, 0.00357922, 0.0, 0.0], [3.89752, 1.0741, -0.074098, 243.19, 0.0366506, 0.0018841, 0.00226244, 0.0, 0.0], [3.68437, 1.07321, -0.0732092, 244.25, 0.0354896, 0.00156188, 0.00187551, 0.0, 0.0], [3.89752, 1.0741, -0.074098, 243.19, 0.0366506, 0.0018841, 0.00226244, 0.0, 0.0], [3.68437, 1.07321, -0.0732092, 244.25, 0.0354896, 0.00156188, 0.00187551, 0.0, 0.0], [4.61095, 1.09208, -0.0920778, 238.161, 0.0366609, 0.00210912, 0.00249387, 0.0, 0.0], [4.35988, 1.09086, -0.0908629, 239.311, 0.0354968, 0.00175668, 0.00207714, 0.0, 0.0], [4.61095, 1.09208, -0.0920778, 238.161, 0.036661, 0.00210912, 0.00249387, 0.0, 0.0], [4.35988, 1.09086, -0.0908629, 239.311, 0.0354967, 0.00175668, 0.00207714, 0.0, 0.0], [3.89208, 1.07398, -0.073976, 229.153, 0.0365525, 0.00204576, 0.00245656, 0.0, 0.0], [3.67935, 1.07309, -0.0730933, 230.173, 0.0353914, 0.00164217, 0.00197192, 0.0, 0.0], [3.89208, 1.07398, -0.073976, 229.153, 0.0365525, 0.00204576, 0.00245656, 0.0, 0.0], [3.67935, 1.07309, -0.0730933, 230.173, 0.0353914, 0.00164217, 0.00197192, 0.0, 0.0], [4.65311, 1.09192, -0.0919224, 224.428, 0.0365651, 0.00222802, 0.00263446, 0.0, 0.0], [4.39989, 1.09072, -0.0907158, 225.531, 0.0354026, 0.00185604, 0.00219462, 0.0, 0.0], [4.65311, 1.09192, -0.0919224, 224.428, 0.0365649, 0.00222802, 0.00263446, 0.0, 0.0], [4.39989, 1.09072, -0.0907158, 225.531, 0.0354026, 0.00185604, 0.00219462, 0.0, 0.0], [0.137299, 1.01695, -0.0169487, 64.2349, 0.00787123, 4.23943E-4, 5.09073E-4, 0.0, 0.0], [0.134577, 1.01713, -0.0171348, 64.4922, 0.00784969, 3.20485E-4, 3.8484E-4, 0.0, 0.0], [0.137299, 1.01695, -0.0169487, 64.2349, 0.00787123, 4.23943E-4, 5.09073E-4, 0.0, 0.0], [0.134577, 1.01713, -0.0171348, 64.4922, 0.00784969, 3.20485E-4, 3.8484E-4, 0.0, 0.0], [0.163566, 1.02056, -0.0205607, 63.6005, 0.0078639, 4.68088E-4, 5.53478E-4, 0.0, 0.0], [0.160296, 1.02079, -0.0207896, 63.8831, 0.00784021, 3.57809E-4, 4.2308E-4, 0.0, 0.0], [0.163566, 1.02056, -0.0205607, 63.6005, 0.0078639, 4.68088E-4, 5.53478E-4, 0.0, 0.0], [0.160296, 1.02079, -0.0207896, 63.8831, 0.00784021, 3.57809E-4, 4.23081E-4, 0.0, 0.0], [0.137002, 1.01694, -0.0169414, 60.6493, 0.00783756, 4.47693E-4, 5.37592E-4, 0.0, 0.0], [0.134285, 1.01713, -0.0171278, 60.8973, 0.00781719, 3.4502E-4, 4.14302E-4, 0.0, 0.0], [0.137002, 1.01694, -0.0169414, 60.6493, 0.00783756, 4.47693E-4, 5.37592E-4, 0.0, 0.0], [0.134285, 1.01713, -0.0171278, 60.8973, 0.00781722, 3.4502E-4, 4.14302E-4, 0.0, 0.0], [0.164646, 1.02055, -0.0205515, 60.0534, 0.00782861, 4.94618E-4, 5.84847E-4, 0.0, 0.0], [0.161352, 1.02078, -0.0207809, 60.3248, 0.00780867, 3.78164E-4, 4.4715E-4, 0.0, 0.0], [0.164646, 1.02055, -0.0205515, 60.0534, 0.0078287, 4.94618E-4, 5.84847E-4, 0.0, 0.0], [0.161352, 1.02078, -0.0207809, 60.3248, 0.00780891, 3.78164E-4, 4.4715E-4, 0.0, 0.0]]]";
		System.out.println(lut.toString());
		System.out.println(ref);
		assertEquals(lut.toString(),ref);
	}

	// TODO: test binary reader methods in LookupTableIO
	
	@Test
	public void testLookupTableReadBinary() throws Exception{
		LookupTable lut=LookupTableIO.readLUT("lut_s2a");
	}

}
